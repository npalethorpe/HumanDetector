"use strict";function HumanDetector(t,e){e||(e={}),this.container=t,this.letterSize=Math.min(60,Math.max(30,isNaN(e.letterSize)?30:e.letterSize)),this.captchaSize=Math.min(8,Math.max(4,isNaN(e.captchaSize)?5:e.captchaSize)),this.minLetterRotation=Math.max(0,isNaN(e.minLetterRotation)?0:e.minLetterRotation),this.maxLetterRotation=isNaN(e.maxLetterRotation)?15:e.maxLetterRotation,this.allowedFails=Math.max(1,isNaN(e.allowedFails)?8:e.allowedFails),this.debugMode=!0===e.debugMode,this.stereoscopicMode=!0===e.stereoscopicMode,this.useHoneyPot=!1!==e.useHoneyPot,this.hasAddedHoneyPot=!1,this.captchaCode=this.getNewCaptcha(),this.state=0,this.failCount=0,this.draw()}HumanDetector.prototype.getNewCaptcha=function(){let t="";for(let e=0;e<this.captchaSize;e++){let e=0;for(;-1==="abcdefghijklmnpqrstuvwxyzABCDEFGHIJKLMNPQRSTUVWXYZ123456789".indexOf(e);)e=(e=16*Math.random()|0).toString(16).toUpperCase();t+=e}return t},HumanDetector.prototype.reset=function(t){if(this.state=0,this.failCount=0,this.captchaCode=this.getNewCaptcha(),this.draw(),!0===t){let t=this.container.getElementsByClassName("entryField");t&&t[0].focus()}},HumanDetector.prototype.detectionState=function(){const t=this.container.getElementsByClassName("hdet_hp_input");return t.length>0&&t[0].value.length>0&&(this.state=2,this.draw()),this.state},HumanDetector.prototype.getRandomNumberBetween=function(t,e,n){let i=Math.random()*(e-t+1)+t;return!0===n?Math.floor(i):i},HumanDetector.prototype.draw=function(){for(var t=this.container.children.length-1;t>=0;t--)this.container.children[t].classList.contains("hdet_hp_input")||this.container.removeChild(this.container.children[t]);this.container.setAttribute("style",`\n        position:relative;\n        display:inline-block;\n        background:rgba(248,248,248,1);\n        padding:15px 25px;\n        border: ${this.debugMode?"1px solid rgba(14,194,14,0.5)":"1px solid rgba(230,230,230,1)"};\n        border-radius:3px;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n    `);const e=document.createElement("div");e.id="innerContainer",e.setAttribute("style",`\n        position:relative;\n        border: ${this.debugMode?"1px solid rgba(14,194,14,0.5)":"none"};\n        display:flex;\n        flex-direction:row;\n        width:${(this.captchaCode.length+1)*(.6*this.letterSize)+40+.7*this.letterSize*this.captchaCode.length}px;\n        height:${1.3*this.letterSize}px;\n        overflow:hidden;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n    `),this.container.appendChild(e);const n=document.createElement("div");n.id="leftContainer",n.setAttribute("style","\n        background:rgba(250,250,250,0);\n        width:40px;\n        display:flex;\n        align-items: center;\n        justify-content: center;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        opacity:1;\n        transition:100ms ease-in-out;\n    "),e.appendChild(n);const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.id="leftButton",i.setAttribute("width",Math.min(24,.6*this.letterSize)),i.setAttribute("height",Math.min(24,.6*this.letterSize)),i.setAttribute("viewBox",`0 0 ${1===this.state?50:2===this.state?50:30} ${1===this.state?50:2===this.state?50:30}`),i.setAttribute("style","\n        transition:100ms ease-in-out;\n    "),n.appendChild(i);const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("font-weight","400"),s.setAttribute("font-family","sans-serif"),s.setAttribute("white-space","normal"),s.setAttribute("overflow","visible"),s.setAttribute("style","\n        line-height:normal;\n        text-indent:0;\n        text-align:start;\n        text-decoration-line:none;\n        text-decoration-style:solid;\n        text-decoration-color:#000;\n        text-transform:none;\n        block-progression:tb;\n        isolation:auto;\n        mix-blend-mode:normal;\n    "),s.setAttribute("d",1===this.state?"M 25 3 C 12.86158 3 3 12.86158 3 25 C 3 37.13842 12.86158 47 25 47 C 37.13842 47 47 37.13842 47 25 C 47 12.86158 37.13842 3 25 3 z M 25 5 C 36.05754 5 45 13.94246 45 25 C 45 36.05754 36.05754 45 25 45 C 13.94246 45 5 36.05754 5 25 C 5 13.94246 13.94246 5 25 5 z M 34.988281 14.988281 A 1.0001 1.0001 0 0 0 34.171875 15.439453 L 23.970703 30.476562 L 16.679688 23.710938 A 1.0001 1.0001 0 1 0 15.320312 25.177734 L 24.316406 33.525391 L 35.828125 16.560547 A 1.0001 1.0001 0 0 0 34.988281 14.988281 z":2===this.state?"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z":"M 15 3 C 12.031398 3 9.3028202 4.0834384 7.2070312 5.875 A 1.0001 1.0001 0 1 0 8.5058594 7.3945312 C 10.25407 5.9000929 12.516602 5 15 5 C 20.19656 5 24.450989 8.9379267 24.951172 14 L 22 14 L 26 20 L 30 14 L 26.949219 14 C 26.437925 7.8516588 21.277839 3 15 3 z M 4 10 L 0 16 L 3.0507812 16 C 3.562075 22.148341 8.7221607 27 15 27 C 17.968602 27 20.69718 25.916562 22.792969 24.125 A 1.0001 1.0001 0 1 0 21.494141 22.605469 C 19.74593 24.099907 17.483398 25 15 25 C 9.80344 25 5.5490109 21.062074 5.0488281 16 L 8 16 L 4 10 z"),i.appendChild(s),0===this.state&&(n.onmousedown=(()=>{i.style.opacity="0.3"}),n.onclick=(()=>{this.reset(!0)}));const o=document.createElement("div");if(o.id="middleContainer",o.setAttribute("style",`\n        position:relative;\n        background:transparent;\n        display:flex;\n        flex:1;\n        text-align:center;\n        align-items:center;\n        justify-content:flex-start;\n        width:${(this.captchaCode.length+1)*(.6*this.letterSize)}px;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n    `),e.appendChild(o),0!==this.state){const t=document.createElement("p");t.id="validpar",t.innerText=2===this.state?"PROBABLY A COMPUTER":"PROBABLY A HUMAN",t.setAttribute("style",`\n            position:relative;\n            text-align:left;\n            align-items:flex-start;\n            user-select: none;\n            -webkit-user-select:none;\n            -moz-user-select:none;\n            padding:0 0 0 10px;\n            margin:0;\n            font-size:${Math.max(12,.4*this.letterSize)}px;\n            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n            letter-spacing:${.04*this.letterSize}px;\n        `),o.appendChild(t)}else{for(let t=0;t<this.captchaCode.length;t++){const n=document.createElement("canvas"),i=Math.random(),s=this.letterSize*this.getRandomNumberBetween(1.1,1.3),a=Math.random()>.5?-Math.abs(this.getRandomNumberBetween(this.minLetterRotation,this.maxLetterRotation,!0)):+Math.abs(this.getRandomNumberBetween(this.minLetterRotation,this.maxLetterRotation,!0)),r=n.getContext("2d");n.id="letter"+t,n.width=2*this.letterSize,n.height=2*this.letterSize,n.setAttribute("style",`\n                position:absolute; \n                top:0;\n                margin-top:${.3*(e.clientHeight-this.letterSize)}px;\n                margin-left:${t*(this.letterSize*(i>.5?.46:.5))}px;\n                border: ${this.debugMode?"1px solid rgba(0,0,197,0.4)":"none"}; \n                transform:rotate(${a}deg);\n                user-select: none;\n                -webkit-user-select: none;\n                -moz-user-select: none;\n                width:${this.letterSize}px;\n                height:${this.letterSize}px\n            `),r.font=`${i<.3?"bolder":i>.7?"lighter":"normal"} ${s}px Arial`,r.textBaseline="top";const l=(n.width-.6*s)/2,h=(n.height-s)/2;if(!0===this.stereoscopicMode)r.fillStyle="rgba(223,80,63,.8)",r.fillText(this.captchaCode[t],l-.07*s,h),r.fillStyle="rgba(148,215,226,.8)",r.fillText(this.captchaCode[t],l+.07*s,h),r.fillStyle="black",r.fillText(this.captchaCode[t],l,h);else{const e=this.getRandomNumberBetween(0,80,!0),n=this.getRandomNumberBetween(.7,1);r.fillStyle=`rgba(${e},${e},${e},${n})`,r.fillText(this.captchaCode[t],l,h)}r.scale(window.devicePixelRatio||1,window.devicePixelRatio||1),o.appendChild(n)}const t=document.createElement("div");t.id="rightContainer",t.setAttribute("style",`\n            width:${.7*this.letterSize*this.captchaCode.length}px;\n            display:flex;\n            align-items: center;\n            justify-content: center;\n            user-select: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            opacity:1;\n            transition:100ms ease-in-out;\n        `),e.appendChild(t);const n=document.createElement("input");if(n.classList.add("entryField"),n.type="text",n.setAttribute("placeholder",""),n.setAttribute("maxlength",this.captchaCode.length),n.setAttribute("style",`\n            background:rgba(255,255,255,1);\n            border:1px solid rgba(180, 180, 180, 1);\n            border-radius:3px;\n            color:rgba(20,20,20,1);\n            width:100%;\n            transition:100ms ease-in-out;\n            padding:5px 10px;\n            margin:0;\n            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n            font-size:${Math.max(12,.5*this.letterSize)}px;\n            letter-spacing:${.06*this.letterSize}px;\n            text-align:center;\n            outline:none;\n        `),n.oninput=(t=>{const e=t.target.value,n=this.container.getElementsByClassName("hdet_hp_input");if(n.length>0&&n[0].value.length>0)this.state=2,this.draw();else if(e.length===this.captchaCode.length)if(e===this.captchaCode)this.state=1,this.draw();else if(this.failCount++,this.failCount>=this.allowedFails)this.state=2,this.draw();else{this.captchaCode=this.getNewCaptcha(),this.draw();let t=this.container.getElementsByClassName("entryField");t&&t[0].focus()}}),t.appendChild(n),this.useHoneyPot&&!0!==this.hasAddedHoneyPot){this.hasAddedHoneyPot=!0;const t=document.createElement("input");t.classList.add("hdet_hp_input"),t.type="text",t.setAttribute("name","hdet_hp_input"),t.setAttribute("placeholder",""),t.setAttribute("style","\n                opacity: 0; \n                position: absolute; \n                top: 0; \n                left: 0; \n                height: 0; \n                width: 0; \n                z-index: -1;\n            "),this.container.appendChild(t)}}};