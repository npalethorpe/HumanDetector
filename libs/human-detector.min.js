"use strict";function HumanDetector(t,e){e||(e={}),this.container=t,this.letterSize=Math.min(60,Math.max(30,isNaN(e.letterSize)?30:e.letterSize)),this.captchaSize=Math.min(8,Math.max(4,isNaN(e.captchaSize)?5:e.captchaSize)),this.minLetterRotation=Math.max(0,isNaN(e.minLetterRotation)?0:e.minLetterRotation),this.maxLetterRotation=isNaN(e.maxLetterRotation)?15:e.maxLetterRotation,this.allowedFails=Math.max(1,isNaN(e.allowedFails)?8:e.allowedFails),this.debugMode=!0===e.debugMode,this.stereoscopicMode=!0===e.stereoscopicMode,this.captchaCode=this.getNewCaptcha(),this.state=0,this.failCount=0,this.draw()}HumanDetector.prototype.getNewCaptcha=function(){let t="";for(let e=0;e<this.captchaSize;e++){let e=0;for(;-1==="abcdefghijklmnpqrstuvwxyzABCDEFGHIJKLMNPQRSTUVWXYZ123456789".indexOf(e);)e=(e=16*Math.random()|0).toString(16).toUpperCase();t+=e}return t},HumanDetector.prototype.reset=function(t){if(this.state=0,this.failCount=0,this.captchaCode=this.getNewCaptcha(),this.draw(),!0===t){let t=this.container.getElementsByClassName("entryField");t&&t[0].focus()}},HumanDetector.prototype.detectionState=function(){return this.state},HumanDetector.prototype.getRandomNumberBetween=function(t,e,i){let n=Math.random()*(e-t+1)+t;return!0===i?Math.floor(n):n},HumanDetector.prototype.draw=function(){for(;this.container.firstChild;)this.container.removeChild(this.container.firstChild);this.container.setAttribute("style",`\n        position:relative;\n        display:inline-block;\n        background:rgba(248,248,248,1);\n        padding:15px 25px;\n        border: ${this.debugMode?"1px solid rgba(14,194,14,0.5)":"1px solid rgba(230,230,230,1)"};\n        border-radius:3px;\n    `);const t=document.createElement("div");t.id="innerContainer",t.setAttribute("style",`\n        position:relative;\n        border: ${this.debugMode?"1px solid rgba(14,194,14,0.5)":"none"};\n        display:flex;\n        flex-direction:row;\n        width:${(this.captchaCode.length+1)*(.6*this.letterSize)+40+.7*this.letterSize*this.captchaCode.length}px;\n        height:${1.3*this.letterSize}px;\n        overflow:hidden;\n    `),this.container.appendChild(t);const e=document.createElement("div");e.id="leftContainer",e.setAttribute("style","\n        background:rgba(250,250,250,0);\n        width:40px;\n        display:flex;\n        align-items: center;\n        justify-content: center;\n        user-select: none;\n        opacity:1;\n        transition:100ms ease-in-out;\n    "),t.appendChild(e);const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.id="leftButton",i.setAttribute("width",Math.min(24,.6*this.letterSize)),i.setAttribute("height",Math.min(24,.6*this.letterSize)),i.setAttribute("viewBox",`0 0 ${1===this.state?50:2===this.state?50:30} ${1===this.state?50:2===this.state?50:30}`),i.setAttribute("style","\n        transition:100ms ease-in-out;\n    "),e.appendChild(i);const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("font-weight","400"),n.setAttribute("font-family","sans-serif"),n.setAttribute("white-space","normal"),n.setAttribute("overflow","visible"),n.setAttribute("style","\n        line-height:normal;\n        text-indent:0;\n        text-align:start;\n        text-decoration-line:none;\n        text-decoration-style:solid;\n        text-decoration-color:#000;\n        text-transform:none;\n        block-progression:tb;\n        isolation:auto;\n        mix-blend-mode:normal;\n    "),n.setAttribute("d",1===this.state?"M 25 3 C 12.86158 3 3 12.86158 3 25 C 3 37.13842 12.86158 47 25 47 C 37.13842 47 47 37.13842 47 25 C 47 12.86158 37.13842 3 25 3 z M 25 5 C 36.05754 5 45 13.94246 45 25 C 45 36.05754 36.05754 45 25 45 C 13.94246 45 5 36.05754 5 25 C 5 13.94246 13.94246 5 25 5 z M 34.988281 14.988281 A 1.0001 1.0001 0 0 0 34.171875 15.439453 L 23.970703 30.476562 L 16.679688 23.710938 A 1.0001 1.0001 0 1 0 15.320312 25.177734 L 24.316406 33.525391 L 35.828125 16.560547 A 1.0001 1.0001 0 0 0 34.988281 14.988281 z":2===this.state?"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z":"M 15 3 C 12.031398 3 9.3028202 4.0834384 7.2070312 5.875 A 1.0001 1.0001 0 1 0 8.5058594 7.3945312 C 10.25407 5.9000929 12.516602 5 15 5 C 20.19656 5 24.450989 8.9379267 24.951172 14 L 22 14 L 26 20 L 30 14 L 26.949219 14 C 26.437925 7.8516588 21.277839 3 15 3 z M 4 10 L 0 16 L 3.0507812 16 C 3.562075 22.148341 8.7221607 27 15 27 C 17.968602 27 20.69718 25.916562 22.792969 24.125 A 1.0001 1.0001 0 1 0 21.494141 22.605469 C 19.74593 24.099907 17.483398 25 15 25 C 9.80344 25 5.5490109 21.062074 5.0488281 16 L 8 16 L 4 10 z"),i.appendChild(n),0===this.state&&(e.onmousedown=(()=>{i.style.opacity="0.3"}),e.onclick=(()=>{this.reset(!0)}));const s=document.createElement("div");if(s.id="middleContainer",s.setAttribute("style",`\n        position:relative;\n        background:transparent;\n        display:flex;\n        flex:1;\n        text-align:center;\n        align-items:center;\n        justify-content:flex-start;\n        width:${(this.captchaCode.length+1)*(.6*this.letterSize)}px;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n    `),t.appendChild(s),0!==this.state){const t=document.createElement("p");t.id="validpar",t.innerText=2===this.state?"PROBABLY A COMPUTER":"PROBABLY A HUMAN",t.setAttribute("style",`\n            position:relative;\n            text-align:left;\n            align-items:flex-start;\n            user-select: none;\n            -webkit-user-select:none;\n            -moz-user-select:none;\n            padding-left:10px;\n            font-size:${Math.max(12,.4*this.letterSize)}px;\n            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n            letter-spacing:${.04*this.letterSize}px;\n        `),s.appendChild(t)}else{for(let e=0;e<this.captchaCode.length;e++){const i=document.createElement("canvas"),n=Math.random(),a=this.letterSize*this.getRandomNumberBetween(1.1,1.3),o=Math.random()>.5?-Math.abs(this.getRandomNumberBetween(this.minLetterRotation,this.maxLetterRotation,!0)):+Math.abs(this.getRandomNumberBetween(this.minLetterRotation,this.maxLetterRotation,!0)),r=i.getContext("2d");i.id="letter"+e,i.width=2*this.letterSize,i.height=2*this.letterSize,i.setAttribute("style",`\n                position:absolute; \n                top:0;\n                margin-top:${.3*(t.clientHeight-this.letterSize)}px;\n                margin-left:${e*(this.letterSize*(n>.5?.5:.54))}px;\n                border: ${this.debugMode?"1px solid rgba(0,0,197,0.4)":"none"}; \n                transform:rotate(${o}deg);\n                user-select: none;\n                -webkit-user-select: none;\n                -moz-user-select: none;\n                width:${this.letterSize}px;\n                height:${this.letterSize}px\n            `),r.font=`${n<.3?"bolder":n>.7?"lighter":"normal"} ${a}px Arial`,r.textBaseline="top";const l=(i.width-.6*a)/2,h=(i.height-a)/2;if(!0===this.stereoscopicMode)r.fillStyle="rgba(223,80,63,.8)",r.fillText(this.captchaCode[e],l-.07*a,h),r.fillStyle="rgba(148,215,226,.8)",r.fillText(this.captchaCode[e],l+.07*a,h),r.fillStyle="black",r.fillText(this.captchaCode[e],l,h);else{const t=this.getRandomNumberBetween(0,80,!0),i=this.getRandomNumberBetween(.7,1);r.fillStyle=`rgba(${t},${t},${t},${i})`,r.fillText(this.captchaCode[e],l,h)}r.scale(window.devicePixelRatio||1,window.devicePixelRatio||1),s.appendChild(i)}const e=document.createElement("div");e.id="rightContainer",e.setAttribute("style",`\n            width:${.7*this.letterSize*this.captchaCode.length}px;\n            display:flex;\n            align-items: center;\n            justify-content: center;\n            user-select: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            opacity:1;\n            transition:100ms ease-in-out;\n        `),t.appendChild(e);const i=document.createElement("input");i.classList.add("entryField"),i.type="text",i.setAttribute("placeholder",""),i.setAttribute("maxlength",this.captchaCode.length),i.setAttribute("style",`\n            background:rgba(255,255,255,1);\n            border:1px solid rgba(180, 180, 180, 1);\n            border-radius:3px;\n            color:rgba(20,20,20,1);\n            width:100%;\n            transition:100ms ease-in-out;\n            padding:5px 10px;\n            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n            font-size:${Math.max(12,.5*this.letterSize)}px;\n            letter-spacing:${.06*this.letterSize}px;\n            text-align:center;\n            outline:none;\n        `),i.oninput=(t=>{const e=t.target.value;if(e.length===this.captchaCode.length)if(e===this.captchaCode)this.state=1,this.draw();else if(this.failCount++,this.failCount>=this.allowedFails)this.state=2,this.draw();else{this.captchaCode=this.getNewCaptcha(),this.draw();let t=this.container.getElementsByClassName("entryField");t&&t[0].focus()}}),e.appendChild(i)}};